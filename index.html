<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/images/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="msapplication-config" content="/images/icons/browserconfig.xml">
    <meta name="theme-color" content="#35235e">

    
    <title>Universe Splitter Webapp</title>
    <link rel="manifest" href="./manifest.json">
    
    <meta name="title" content="Universe Splitter Webapp">
    <meta name="description" content="Free Universe Splitter Online. Split the universe with a quantum random number generator. Soon to have multiple splitting sources.
    (PWA: works on android, iphone, and the web)">
    <meta name="keywords" content="Universe Splitter Online, Universe Splitter Unofficial, Universe Splitter Free, Quantum random number generator, coin flip simulator, decision maker, Universe Splitter app, universe splitter android app, universe spliter, younivers spliter, universe splitting app, open source projects, progressive web app, frontend, vanilla js, apis, online tools, Universe Splitter Free Online">
    <!-- ^Im just guessing at that mostly it probably doesnt even do anything lol -->
    <!-- Needs to be on the page for google to look at it I think -->


    <!-- Theme detection, blocks rest of page loading until this is run -->
    <script>
        function getInitialPreferredThemeAndUpdateLocalStorage(){
            const systemPreferredThemeIsDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
            if (systemPreferredThemeIsDark){
                localStorage.setItem("preferred_theme", "dark")
                return "dark"
            }
            localStorage.setItem("preferred_theme", "light")
            return "light"
        }

        const preferredTheme = localStorage.getItem("preferred_theme")
                               || getInitialPreferredThemeAndUpdateLocalStorage()
        
        console.log("HI1", preferredTheme)
        document.documentElement.dataset.theme = preferredTheme

        //need to load with no transition to load right 100% of time on firefox (only tested on chromium & firefox)
        window.addEventListener("load", () => {
            document.body.classList.remove("no-transition")
        })
    </script>
    <script src="themeButton.js" defer></script>

    <link rel="stylesheet" href="style.css">
    <script src="./script.js" defer></script>
    
</head>



<body class="no-transition">
    <script>
        window.addEventListener("load", () => {
            document.body.classList.remove("no-transition")
        })
    </script>
    
    <div id="theme-toggle">
    
        <button id="light-button">
            <p>L</p>
        </button>

        <button id="dark-button">
            <p>D</p>
        </button>
    </div>


    <div id="main-div">
        <header>
            <h1 id="title">Universe Splitter</h1>
        </header>

        <!-- Should this be a form for accessability or other reason? -->
        <form class="button-and-slider-container container">
            <div class="main-button-container">
                <button class="main-button"
                aria-label="Split Universe">
                    <p>
                        Split Universe
                    </p>
                </button>
                <span class="loading-image-container">
                    <img class="loading-image"
                    src="./Spinner-1s-200px.gif" alt="">
                    <!-- ^Slow? -->
                </span>
            </div>

            <div class="slider-container">
                <input class="slider" type="range" min="1" max="10" value="2"
                aria-label="Number of Universes Slider">
                <p>
                    <span class="num-universes-display"> 2 </span>
                </p>
            </div>
        </form>
        
        <ul class="output-area container">
            <li></li>
        </ul>

        
    </div>
    <!-- TODO: add server select somewhere -->
    <!-- <div class="footer-box container">
        <div>Hello</div> 
    </div> -->
    <footer class="footer  footer-box container">
        <a href="https://cheapuniverses.com/">
            Inspired By
        </a>
        <a href="./explanation">Explanation</a> <!-- Currently no .html because cloudflare removes the .html and the caching conflicts with it's auto redirection, leading the .html link to be broken-->
        <!-- <select name="server-select" id="server-select">
            <option value="test">WIP</option>
            <option value="test2">ANU old</option>
            <option value="test2">Work In Progress</option>
        </select> -->
        <!-- <a href="" onclick="alert('Coming Soon')">Install PWA</a> -->
        <a href="https://github.com/tomernahum/Universe-Splitter-Webapp"> <!--TODO: replace with this projects repo-->
            Source Code
            <!-- Maybe when you hover it could say "Star Me!" -->
        </a>
        <a href="mailto: contact@ttools.io">Email</a>
        <!-- Todo: replace with "submit feedback" and open menu with link to github issues and to email -->
        <!-- <a href="">Test</a> -->
        <!--  <div>LM</div> -->
    </footer>
    
</body>
</html>